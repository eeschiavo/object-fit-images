/*! npm.im/object-fit-images 3.2.3 */
var objectFitImages=function(){"use strict";var t="bfred-it:object-fit-images",e=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,i="undefined"==typeof Image?{style:{"object-position":1}}:new Image,r="object-fit"in i.style,n="object-position"in i.style,s="background-size"in i.style,c="string"==typeof i.currentSrc,o=i.getAttribute,a=i.setAttribute,l=!1;function u(t,e,i){var r="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(e||1)+"' height='"+(i||0)+"'%3E%3C/svg%3E";o.call(t,"src")!==r&&a.call(t,"src",r)}function g(t,e){t.naturalWidth?e(t):setTimeout(g,100,t,e)}function f(i){var n,s,l=function(t){for(var i,r=getComputedStyle(t).fontFamily,n={};null!==(i=e.exec(r));)n[i[1]]=i[2];return n}(i),d=i[t];if(l["object-fit"]=l["object-fit"]||"fill",!d.img){if("fill"===l["object-fit"])return;if(!d.skipTest&&r&&!l["object-position"])return}if(!d.img){d.img=new Image(i.width,i.height),d.img.srcset=o.call(i,"data-ofi-srcset")||i.srcset,d.img.src=o.call(i,"data-ofi-src")||i.src,a.call(i,"data-ofi-src",i.src),i.srcset&&a.call(i,"data-ofi-srcset",i.srcset),u(i,i.naturalWidth||i.width,i.naturalHeight||i.height),i.srcset&&(i.srcset="");try{n=i,s={get:function(e){return n[t].img[e||"src"]},set:function(e,i){return n[t].img[i||"src"]=e,a.call(n,"data-ofi-"+i,e),f(n),e}},Object.defineProperty(n,"src",s),Object.defineProperty(n,"currentSrc",{get:function(){return s.get("currentSrc")}}),Object.defineProperty(n,"srcset",{get:function(){return s.get("srcset")},set:function(t){return s.set(t,"srcset")}})}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}!function(t){if(t.srcset&&!c&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}(d.img),i.style.backgroundImage='url("'+(d.img.currentSrc||d.img.src).replace(/"/g,'\\"')+'")',i.style.backgroundPosition=l["object-position"]||"center",i.style.backgroundRepeat="no-repeat",i.style.backgroundOrigin="content-box",/scale-down/.test(l["object-fit"])?g(d.img,function(){d.img.naturalWidth>i.width||d.img.naturalHeight>i.height?i.style.backgroundSize="contain":i.style.backgroundSize="auto"}):i.style.backgroundSize=l["object-fit"].replace("none","auto").replace("fill","100% 100%"),g(d.img,function(t){u(i,t.naturalWidth,t.naturalHeight)})}function d(e,i){var r=!l&&!e;if(i=i||{},e=e||"img",n&&!i.skipTest||!s)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var c=0;c<e.length;c++)e[c][t]=e[c][t]||{skipTest:i.skipTest},f(e[c]);r&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&d(t.target,{skipTest:i.skipTest})},!0),l=!0,e="img"),i.watchMQ&&window.addEventListener("resize",d.bind(null,e,{skipTest:i.skipTest}))}return d.supportsObjectFit=r,d.supportsObjectPosition=n,function(){function e(e,i){return e[t]&&e[t].img&&("src"===i||"srcset"===i)?e[t].img:e}n||(HTMLImageElement.prototype.getAttribute=function(t){return o.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,i){return a.call(e(this,t),t,String(i))})}(),d}()();
